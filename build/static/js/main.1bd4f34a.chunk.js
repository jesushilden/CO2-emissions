(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{119:function(e,t,a){},121:function(e,t,a){},123:function(e,t,a){},273:function(e,t,a){},291:function(e,t,a){},293:function(e,t,a){},295:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(14),s=a.n(i),l=a(5),u=a.n(l),o=a(10),c=a(80),p=a(81),m=a(91),f=a(82),d=a(92),g=a(15),h=a.n(g),v=function(){var e=Object(o.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get(t);case 2:return a=e.sent,e.abrupt("return",b(a.data));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),b=function(e){return null===e[1]?null:e[1].map(function(e){return{year:e.date,value:e.value}}).reverse()},y={getByISO:function(e){var t="https://api.worldbank.org/v2/countries/".concat(e,"/indicators/SP.POP.TOTL?per_page=100&format=json");return v(t)}},C=function(){var e=Object(o.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get(t);case 2:return a=e.sent,e.abrupt("return",E(a.data));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),E=function(e){return null===e[1]?null:e[1].map(function(e){return{year:e.date,value:e.value}}).reverse()},O={getByISO:function(e){var t="https://api.worldbank.org/v2/countries/".concat(e,"/indicators/EN.ATM.CO2E.KT?per_page=100&format=json");return C(t)}},x=function(){var e=Object(o.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get(t);case 2:return a=e.sent,e.abrupt("return",w(a.data));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),w=function(e){var t=e[1].map(function(e){return{value:e.iso2Code,label:e.name}});return t.sort(function(e,t){return e.label>t.label?1:-1}),t},S=function(){return x("https://api.worldbank.org/v2/country?per_page=500&format=json")},k=(a(119),function(e){var t=e.notification;return null===t?null:r.a.createElement("div",{className:"notification "+t.messageClass},t.message)}),j=(a(121),function(e){var t=e.title,a=e.subtitle;return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"title"},t),r.a.createElement("div",{className:"subtitle"},a))}),N=a(47),V=a(93),B=(a(123),function(e){var t=e.countries,a=e.setSelected,n=e.selected;return void 0===t?null:r.a.createElement("div",{className:"search"},r.a.createElement(V.a,{value:n,onChange:a,options:t,theme:function(e){return Object(N.a)({},e,{colors:Object(N.a)({},e.colors,{primary25:"#eeeeee",primary:"#555555"})})}}))}),L=a(86),P=(a(273),function(e){var t=e.populations,a=e.emissions,n=e.selected,i=e.perCapita,s=e.rangeValue;if(null===t||null===a||null===n||null===s)return r.a.createElement("div",null,"No data could be found for ",n.label);var l=t.filter(function(e){return s.min<=e.year&&s.max>=e.year}),u=a.filter(function(e){return s.min<=e.year&&s.max>=e.year}),o=i?"kg":"kt",c={labels:u.map(function(e){return e.year}),datasets:[{label:o,fill:!1,backgroundColor:"rgba(219, 43, 0, 0.5)",borderColor:"rgba(219, 43, 0, 1)",pointBorderColor:"rgba(219, 43, 0, 1)",pointBackgroundColor:"rgb(255, 255, 255)",pointRadius:1,pointHitRadius:6,data:i?u.map(function(e,t){return e.value?e.value/l[t].value*1e6:null}):u.map(function(e){return e.value})}]},p={legend:{display:!1},tooltips:{displayColors:!1},scales:{yAxes:[{scaleLabel:{display:!0,labelString:"Emissions ("+o+")"}}],xAxes:[{scaleLabel:{display:!0,labelString:"Year"}}]},responsive:!0,maintainAspectRatio:!1};return r.a.createElement("div",{className:"chartContainer"},r.a.createElement(L.a,{data:c,options:p}))}),I=a(88),R=a.n(I),T=a(89),A=a.n(T),_=(a(291),function(e){var t=e.perCapita,a=e.togglePerCapita,n=e.rangeValue,i=e.setRange,s=e.rangeLimits;return null===a||null===n||null===s?null:r.a.createElement("div",{className:"resultOptions"},r.a.createElement("div",{className:"perCapita"},r.a.createElement(A.a,{onChange:a,checked:t}),r.a.createElement("label",null,"Per Capita")),r.a.createElement(R.a,{maxValue:s.max,minValue:s.min,value:n,onChange:function(e){return i(e)}}))}),J=(a(293),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(f.a)(t).call(this,e))).handleSelectedChange=function(){var e=Object(o.a)(u.a.mark(function e(t){var n,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.getByISO(t.value);case 2:return n=e.sent,e.next=5,O.getByISO(t.value);case 5:r=e.sent,null!==n&&null!==r?(a.setState({selected:t,populations:n,emissions:r}),console.log(a.state)):a.notify("No data was found for "+t.label,"danger");case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.handleRangeChange=function(e){a.setState({rangeValue:e})},a.handlePerCapitaChange=function(e){a.setState({perCapita:e})},a.notify=function(e,t){a.setState({notification:{message:e,messageClass:t}}),setTimeout(function(){a.setState({notification:null})},3e3)},a.state={countries:[],selected:{value:"1W",label:"World"},rangeValue:null,rangeLimits:null,populations:null,emissions:null,perCapita:!1,notification:null},a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(o.a)(u.a.mark(function e(){var t,a,n,r,i;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:return t=e.sent,e.next=5,y.getByISO(this.state.selected.value);case 5:return a=e.sent,e.next=8,O.getByISO(this.state.selected.value);case 8:n=e.sent,r={min:Number(n[0].year),max:Number(n[n.length-1].year)},i=r,this.setState({countries:t,populations:a,emissions:n,rangeValue:r,rangeLimits:i}),console.log(this.state);case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(k,{notification:this.state.notification}),r.a.createElement(j,{title:"CO2 Emissions",subtitle:"Search by area and compare by capita"}),r.a.createElement(B,{countries:this.state.countries,setSelected:this.handleSelectedChange,selected:this.state.selected}),r.a.createElement(_,{perCapita:this.state.perCapita,togglePerCapita:this.handlePerCapitaChange,rangeValue:this.state.rangeValue,setRange:this.handleRangeChange,rangeLimits:this.state.rangeLimits}),r.a.createElement(P,{populations:this.state.populations,emissions:this.state.emissions,selected:this.state.selected,perCapita:this.state.perCapita,rangeValue:this.state.rangeValue}))}}]),t}(n.Component));s.a.render(r.a.createElement(J,null),document.getElementById("root"))},94:function(e,t,a){e.exports=a(295)}},[[94,2,1]]]);
//# sourceMappingURL=main.1bd4f34a.chunk.js.map