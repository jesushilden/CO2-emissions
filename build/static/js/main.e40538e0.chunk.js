(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,t,a){e.exports=a(327)},126:function(e,t,a){},128:function(e,t,a){},130:function(e,t,a){},305:function(e,t,a){},323:function(e,t,a){},325:function(e,t,a){},327:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(16),s=a.n(i),l=a(7),u=a.n(l),o=a(12),c=a(87),p=a(88),m=a(98),d=a(89),f=a(99),g=a(18),h=a.n(g),v=function(){var e=Object(o.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get(t);case 2:return a=e.sent,e.abrupt("return",b(a.data));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),b=function(e){return null===e[1]?null:e[1].map(function(e){return{year:e.date,value:e.value}}).reverse()},y={getByISO:function(e){var t="https://api.worldbank.org/v2/countries/".concat(e,"/indicators/SP.POP.TOTL?per_page=100&format=json");return v(t)}},C=function(){var e=Object(o.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get(t);case 2:return a=e.sent,e.abrupt("return",E(a.data));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),E=function(e){return null===e[1]?null:e[1].map(function(e){return{year:e.date,value:e.value}}).reverse()},x={getByISO:function(e){var t="https://api.worldbank.org/v2/countries/".concat(e,"/indicators/EN.ATM.CO2E.KT?per_page=100&format=json");return C(t)}},O=function(){var e=Object(o.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get(t);case 2:return a=e.sent,e.abrupt("return",S(a.data));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),S=function(e){var t=e[1].map(function(e){return{value:e.iso2Code,label:e.name}});return t.sort(function(e,t){return e.label>t.label?1:-1}),t},w=function(){return O("https://api.worldbank.org/v2/country?per_page=500&format=json")},k=(a(126),function(e){var t=e.notification;return null===t?null:r.a.createElement("div",{className:"notification "+t.messageClass},t.message)}),j=(a(128),function(e){var t=e.title,a=e.subtitle;return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"title"},t),r.a.createElement("div",{className:"subtitle"},a))}),N=a(51),V=a(100),L=(a(130),function(e){var t=e.countries,a=e.setSelected,n=e.selected;return void 0===t?null:r.a.createElement("div",{className:"search"},r.a.createElement(V.a,{value:n,onChange:a,options:t,theme:function(e){return Object(N.a)({},e,{colors:Object(N.a)({},e.colors,{primary25:"#eeeeee",primary:"#555555"})})}}))}),B=a(93),P=a(50),R=(a(305),function(e){var t=e.populations,a=e.emissions,n=e.selected,i=e.perCapita,s=e.rangeValue,l=e.loading;if(null===t||null===a||null===n||null===s)return r.a.createElement("div",{className:"result"},r.a.createElement(P.RingLoader,{sizeUnit:"px",size:50,color:"#db2b00"}));var u=t.filter(function(e){return s.min<=e.year&&s.max>=e.year}),o=a.filter(function(e){return s.min<=e.year&&s.max>=e.year}),c=i?"kg":"kt",p={labels:o.map(function(e){return e.year}),datasets:[{label:c,fill:!1,backgroundColor:"rgba(219, 43, 0, 0.5)",borderColor:"rgba(219, 43, 0, 1)",pointBorderColor:"rgba(219, 43, 0, 1)",pointBackgroundColor:"rgb(255, 255, 255)",pointRadius:2,pointHitRadius:6,data:i?o.map(function(e,t){return e.value?e.value/u[t].value*1e6:null}):o.map(function(e){return e.value})}]},m={legend:{display:!1},tooltips:{displayColors:!1},scales:{yAxes:[{scaleLabel:{display:!0,labelString:"Emissions ("+c+")"}}],xAxes:[{scaleLabel:{display:!0,labelString:"Year"}}]},responsive:!0,maintainAspectRatio:!1};return r.a.createElement("div",{className:"result"},r.a.createElement(P.ClipLoader,{sizeUnit:"px",size:30,color:"#db2b00",loading:l}),r.a.createElement(B.a,{data:p,options:m}))}),I=a(95),T=a.n(I),z=a(96),A=a.n(z),_=(a(323),function(e){var t=e.perCapita,a=e.togglePerCapita,n=e.rangeValue,i=e.setRange,s=e.rangeLimits;return null===a||null===n||null===s?null:r.a.createElement("div",{className:"resultOptions"},r.a.createElement("div",{className:"perCapita"},r.a.createElement(A.a,{onChange:a,checked:t}),r.a.createElement("label",null,"Per Capita")),r.a.createElement(T.a,{maxValue:s.max,minValue:s.min,value:n,onChange:function(e){return i(e)}}))}),J=(a(325),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).handleSelectedChange=function(){var e=Object(o.a)(u.a.mark(function e(t){var n,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({loading:!0}),e.next=3,y.getByISO(t.value);case 3:return n=e.sent,e.next=6,x.getByISO(t.value);case 6:r=e.sent,null!==n&&null!==r?a.setState({selected:t,populations:n,emissions:r}):a.notify("No data was found for "+t.label,"danger"),a.setState({loading:!1});case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.handleRangeChange=function(e){a.setState({rangeValue:e})},a.handlePerCapitaChange=function(e){a.setState({perCapita:e})},a.notify=function(e,t){a.setState({notification:{message:e,messageClass:t}}),setTimeout(function(){a.setState({notification:null})},3e3)},a.state={countries:[],selected:{value:"1W",label:"World"},rangeValue:null,rangeLimits:null,populations:null,emissions:null,perCapita:!1,notification:null,loading:!1},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(o.a)(u.a.mark(function e(){var t,a,n,r,i;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:return t=e.sent,e.next=5,y.getByISO(this.state.selected.value);case 5:return a=e.sent,e.next=8,x.getByISO(this.state.selected.value);case 8:n=e.sent,r={min:Number(n[0].year),max:Number(n[n.length-1].year)},i=r,this.setState({countries:t,populations:a,emissions:n,rangeValue:r,rangeLimits:i});case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(k,{notification:this.state.notification}),r.a.createElement(j,{title:"CO2 Emissions",subtitle:"Search by area and compare by capita"}),r.a.createElement(L,{countries:this.state.countries,setSelected:this.handleSelectedChange,selected:this.state.selected}),r.a.createElement(_,{perCapita:this.state.perCapita,togglePerCapita:this.handlePerCapitaChange,rangeValue:this.state.rangeValue,setRange:this.handleRangeChange,rangeLimits:this.state.rangeLimits}),r.a.createElement(R,{populations:this.state.populations,emissions:this.state.emissions,selected:this.state.selected,perCapita:this.state.perCapita,rangeValue:this.state.rangeValue,loading:this.state.loading}))}}]),t}(n.Component));s.a.render(r.a.createElement(J,null),document.getElementById("root"))}},[[101,2,1]]]);
//# sourceMappingURL=main.e40538e0.chunk.js.map